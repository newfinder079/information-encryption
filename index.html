<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>魑魅魍魉加密</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🔐 魑魅魍魉加密</h1>
            <p class="subtitle">本地离线加密工具，保护您的隐私</p>
        </header>

        <div class="content">
            <!-- 加密部分 -->
            <section class="section encrypt-section">
                <h2>加密</h2>
                <div class="form-group">
                    <label for="plaintext">明文：</label>
                    <textarea id="plaintext" rows="6" placeholder="请输入要加密的文本..."></textarea>
                </div>
                <div class="form-group">
                    <label for="encryptPassword">口令：</label>
                    <input type="password" id="encryptPassword" placeholder="请输入加密口令">
                    <span class="toggle-password" onclick="togglePassword('encryptPassword')">👁️</span>
                </div>
                <button class="btn btn-primary" onclick="encrypt()">🔒 加密</button>
                <div class="form-group">
                    <label for="ciphertext">密文：</label>
                    <textarea id="ciphertext" rows="6" placeholder="加密结果将显示在这里..." readonly></textarea>
                </div>
                <button class="btn btn-secondary" onclick="copyCiphertext()">📋 复制密文</button>
            </section>

            <!-- 解密部分 -->
            <section class="section decrypt-section">
                <h2>解密</h2>
                <div class="form-group">
                    <label for="decryptCiphertext">密文：</label>
                    <textarea id="decryptCiphertext" rows="6" placeholder="请输入要解密的密文..."></textarea>
                </div>
                <div class="form-group">
                    <label for="decryptPassword">口令：</label>
                    <input type="password" id="decryptPassword" placeholder="请输入解密口令">
                    <span class="toggle-password" onclick="togglePassword('decryptPassword')">👁️</span>
                </div>
                <button class="btn btn-primary" onclick="decrypt()">🔓 解密</button>
                <div class="form-group">
                    <label for="decryptedText">明文：</label>
                    <textarea id="decryptedText" rows="6" placeholder="解密结果将显示在这里..." readonly></textarea>
                </div>
            </section>
        </div>

        <!-- 自检部分 -->
        <section class="section test-section">
            <h2>系统自检</h2>
            <p>点击按钮运行加密解密自检，确保功能正常</p>
            <button class="btn btn-info" onclick="runSelfTest()">🧪 运行自检</button>
            <div id="testResult" class="test-result"></div>
        </section>

        <footer>
            <p>⚠️ 注意事项：</p>
            <ul>
                <li>请妥善保管您的口令，避免泄露</li>
                <li>本应用不存储用户输入的数据，所有操作均在本地进行</li>
                <li>本应用无需联网即可使用，确保您的隐私安全</li>
            </ul>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
